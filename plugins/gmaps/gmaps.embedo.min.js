/**
 * @file gmaps.embedo.js
 *
 * Embedo plugin to embed Google Maps.
 *
 * @author Shobhit Sharma <hi@shobh.it>
 * @license MIT
 */
"use strict";!function(e,o){if("function"==typeof define&&define.amd)define(o);else if("object"==typeof module&&module.exports)module.exports=o();else if(e){if(!e.Embedo||!window.Embedo)throw Error("Embedo script is either not imported or not available.");e.Embedo.GMaps=window.Embedo.GMaps=o()(e.Embedo||window.Embedo)}}(this,function(){return function(g){if(!g)throw Error("Embedo instance as argument is missing.");g.defaults.SOURCES.googlemaps={GLOBAL:"google",SDK:"https://maps.googleapis.com/maps/api/js",oEmbed:null,REGEX:/(http|https)?:\/\/(www\.|maps\.)?google(\.[a-z]+){1,2}\/maps\/.*/i,PARAMS:{}},Object.defineProperty(g.prototype,"googlemaps",{value:function(n,a,e,r,d){var l=g.utils.dimensions(a,r.width,r.height),s=function(e){var o=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+),(\d+\.?\d?)+z/);return o&&o.length&&o[1]&&o[2]?{lat:parseFloat(o[1],0),lng:parseFloat(o[2],0)}:null}(e);if(!s)return d(new Error("unable_to_find_cordinates"));var p=g.utils.generateEmbed(n,"googlemaps");a.appendChild(p),function(o,t,i,n){g.utils.sdkReady("googlemaps",function(e){if(e)return n(e);!1!==i.centerize&&g.utils.centerize(o,t,i),t.style.width=i.width?i.width+"px":g.utils.compute(o,"width"),t.style.height=i.height?i.height+"px":g.utils.compute(o,"height"),n(null,{})})}(a,p,{url:e,width:l.width,height:l.height,centerize:r.centerize},function(e){if(e)return g.log("error","googlemaps",e),d(e);var o=new window.google.maps.LatLng(s.lat,s.lng),t=new window.google.maps.Map(p,{zoom:r.zoom||12,center:o,mapTypeId:r.MapTypeId||window.google.maps.MapTypeId.ROADMAP}),i=new window.google.maps.Marker({map:t,draggable:!0,animation:window.google.maps.Animation.DROP,position:o});d(null,{id:n,el:a,width:l.width,height:l.height,marker:i})})},writable:!1,enumerable:!0,configurable:!0})}});